# Сравнительная таблица механизмов мультиплексирования в Linux

| Параметр | `select` | `poll` | `epoll` |
|----------|----------|--------|---------|
| **Год появления** | ~1983 (BSD 4.2) | 1997 (System V Release 3) | 2002 (Linux 2.5.44) |
| **Максимум файловых дескрипторов** | `FD_SETSIZE` (обычно 1024) | Теоретически не ограничен, но зависит от системных настроек | Теоретически не ограничен, но зависит от системных ресурсов |
| **Эффективность при большом числе fd** | Низкая (линейный обход) | Низкая (линейный обход) | Высокая (O(1) для готовых событий) |
| **Масштабируемость** | Плохая | Средняя (лучше, чем select) | Отличная |
| **Тип API** | Системный вызов | Системный вызов | Набор системных вызовов (epoll_create, epoll_ctl, epoll_wait) |
| **Передача данных между вызовами** | Каждый раз передаётся полный набор fd | Каждый раз передаётся полный набор структур pollfd | Ядро хранит множество epoll, передаются только изменения |
| **Работа с событиями** | Только 3 типа событий: read, write, exception | Больше событий (POLLIN, POLLOUT, POLLERR, POLLHUP и др.) | Большой набор событий (EPOLLIN, EPOLLOUT, EPOLLET, EPOLLONESHOT и др.) |
| **Триггеры событий** | Уровень (level-triggered) | Уровень (level-triggered) | Уровень (level-triggered) и край (edge-triggered) |
| **Потребление памяти** | Фиксированный буфер (fd_set) | Зависит от количества отслеживаемых fd | Эффективное (ядро хранит только отслеживаемые fd) |
| **Производительность** | Низкая (копирование в/из ядра, O(n) обход) | Средняя (копирование в/из ядра, O(n) обход) | Высокая (разделяемая память, O(1) для готовых событий) |
| **Переносимость** | Кросс-платформенный (POSIX) | Кросс-платформенный (POSIX) | Только Linux |
| **Особенности** | Изменяет передаваемые множества | Не изменяет переданную структуру | Требует управление через epoll_ctl |
| **Типичное использование** | Простые приложения с малым числом fd | Приложения со средним числом fd | Высоконагруженные серверы (nginx, Redis) |

## Краткие выводы

- **`select`**: устаревший, но переносимый интерфейс. Ограничен 1024 fd.
- **`poll`**: улучшенная версия select без ограничения на количество fd, но с той же линейной сложностью.
- **`epoll`**: наиболее эффективный механизм для Linux, особенно для 10k+ соединений.