порядок разработки:
1. Server:
    нужно реализовать:
    - РАЗБЛОКИРОВАТЬ accept
    - улучшить логирования событий 
    - бесконечное принятие клиентов
    - каждое из возможных состояний сервера
    - обработку пользователей
    - run, start, stop(корректное завершение, закрытие всех клиентов)
    - что бы сервер не вырубался после первого клиента
    - улучшить запуск сервера
    - accept_client() и message_get() убрать при переходе к следующей стадии, засунуть в run

    пока что реализовано: 
    - выделение сокета(создание fd), 
    - привязка имени к сокету(bind), 
    - прослушка(listen) - нужно поменять механизм ожидания для epool, 
    - выбор первого из очереди для обработки(accept) - добавить создание нескольких клиентов, позже привести к epool

    что должен делать: 
    - Принимает новые подключения
    - Читает данные от уже подключённых клиентов
    - Закрывает / чистит умершие соединения

2. Client:
    - хранит состояние
    - читает / пишет
    - Потом протокол / логика
    на данном этапе Клиент — это: сокет (fd), состояние соединения, буферы ввода/вывода,контекст общения


На будущее переделать на переменные окружения а затем на dns.

В первую очередь:
- read_from_client - переделать
- ввести enum и состояния 
- Сделать accept в цикле
- Ввести состояние клиента: NEW → CONNECTED → CLOSED
- Обработку отключения клиента (recv == 0)

пример логики:
accept() успешен      -> CONNECTED
готов читать          -> READING
recv() > 0            -> PROCESSING
данные обработаны     -> WRITING
send() всё отправил   -> READING
recv() == 0           -> CLOSED
любая ошибка          -> ERROR -> CLOSED


https://design-pattern.ru/patterns/reactor.html

enum SERVER_STATUS {
        // need realize all
        ACTIVE,
        STARTING,
        STOPPED,
        REBOOTING,
        FAILED,
        MAINTENANCE - обслуживание
    };

num STATUS {
        // NEW, // нужен ли?
        CONNECTED, // принят в accept, дальше в READING/CLOSED
        READING, // вызывает recv, далее в PROCESING/CLOSSED/ERROR
        PROCESSING, // данные полученны WRITING/READING/CLOSSED
        WRITING, // все отправленно READING/CLOSED/ERROR
        CLOSED,
        ERROR // CLOSED
    };

сервер и клиент — разные процессы (нормальный вариант)

напоминалки: 
run_server() должен быть единственным местом, где:
- вызывается accept
- читаются клиенты
- закрываются клиенты